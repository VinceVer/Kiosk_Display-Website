doctype html
html(lang='en')
  head
    meta(name="viewport" content="width=device-width, initial-scale=1")
    link#themeLink(rel='stylesheet' href=`/stylesheets/theme-${layout.theme}.css`)
    link(rel='stylesheet' href='/stylesheets/mobile-grid.css')
  body.fade
    #brightnessFilter(style=`background-color: rgba(10, 10, 10, ${1 - layout.background_opacity / 100})`)

    #display(style="visibility: hidden")
      .bar
      #container
      #overlay.clickToClose
        #devices.data
          h2 Connected Devices
        .info.clickToClose
          .banner
            h1
          .map
        #applications.data
          h2 Applications
      #footer
        div#hookL.hook(data-alt_align="end")
          p.last_check Last check:
        
        h6#alert=misc_data.alert

        div#hookR.hook(data-alt_align="end")
          p.health_score(style=`color: hsl(${(misc_data.score-50)*2}, 100%, 65%)`) Health Score: #{misc_data.score}%

    #alertBox
      h2
      h4
      .flexBar
      .blockActions

    #segment_CM.contextMenu
      button.title
      //button Open analytics
      button(name="online") Change to Online

    #tile_CM.contextMenu
      button.title
      button(name="ignore") Ignore status
      button(name="online") Change to Online

    #templates(style="display: none")
      table
        tr#app_5Row
          td.name
          td.time
      #segment.segment
        .flexBar
          h3
          h4 test
        .content
          div
        h5 Last seen: 

    #data_storage(data-port=port data-config_data=config_data data-status_database=status_database data-misc_data=misc_data style="display: none")

    style.
      .kiosk.urgency_-1 {--identifier-opacity: #{layout.urgency_1_tag || 0};}
      .kiosk.urgency_1 {--identifier-opacity: #{layout.urgency1_tag || 0};}
      .kiosk.urgency_2 {--identifier-opacity: #{layout.urgency2_tag || 0};}
      .kiosk.urgency_3 {--identifier-opacity: #{layout.urgency3_tag || 0};}
      .kiosk.urgency_4 {--identifier-opacity: #{layout.urgency4_tag || 0};}
      .kiosk.urgency_5 {--identifier-opacity: 1;}
      .kiosk.urgency_12 {--identifier-opacity: max(#{layout.urgency1_tag || 0}, #{layout.urgency2_tag || 0});}
      .kiosk.urgency_42 {--identifier-opacity: max(#{layout.urgency4_tag || 0}, #{layout.urgency2_tag || 0});}

    script(src='/javascripts/mobile-grid.js')